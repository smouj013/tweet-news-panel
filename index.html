<!-- index.html ‚Äî News ‚Üí Tweet Template Panel (tnp-v4.0.1) ‚Äî PRO FAST (10‚Üí50 cap) -->
<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="color-scheme" content="dark light" />
  <meta name="theme-color" content="#060812" />
  <meta name="description" content="Panel PRO para extraer noticias (RSS/Atom/JSON), resolver link original, im√°genes y generar plantilla lista para X." />
  <title>News ‚Üí Tweet Template Panel</title>

  <link rel="manifest" href="./manifest.webmanifest" />
  <link rel="stylesheet" href="./styles.css" />
</head>
<body>

  <header class="topbar">
    <div class="topLeft">
      <div class="brand">
        <div class="dot"></div>
        <div>
          <div class="brandTitle">News ‚Üí Tweet Template Panel</div>
          <div class="brandSub">RSS/Atom/JSON ¬∑ Link original ¬∑ Im√°genes ¬∑ X-count ¬∑ PWA</div>
        </div>
      </div>

      <div class="topControls">
        <label class="mini">
          Ventana:
          <select id="timeFilter" class="select">
            <option value="1">1h</option>
            <option value="3">3h</option>
            <option value="6">6h</option>
            <option value="12">12h</option>
            <option value="24" selected>24h</option>
            <option value="72">72h</option>
          </select>
        </label>

        <label class="mini">
          Mostrar:
          <select id="showLimit" class="select">
            <option value="10" selected>10</option>
            <option value="20">20</option>
            <option value="30">30</option>
            <option value="50">50</option>
          </select>
        </label>

        <label class="mini">
          Tope:
          <input id="fetchCap" class="input" inputmode="numeric" type="number" min="80" max="2000" step="20" value="240" />
        </label>

        <input id="searchBox" class="input" placeholder="Buscar." />

        <button id="btnRefresh" class="btn primary" type="button">‚ü≥ Refrescar</button>
        <button id="btnFeeds" class="btn" type="button">‚öô Feeds</button>
      </div>
    </div>

    <div class="topRight">
      <div id="status" class="status">Listo</div>
    </div>
  </header>

  <main class="layout">
    <!-- LEFT -->
    <section class="panel left">
      <div class="panelHead">
        <h2>Plantilla</h2>
        <div class="row wrap">
          <button id="btnTrim" class="btn" type="button">‚úÇ Ajustar</button>
          <button id="btnGenTags" class="btn" type="button">üè∑ Hashtags</button>
          <button id="btnCopyUrl" class="btn" type="button">üîó Copiar URL</button>
          <button id="btnX" class="btn" type="button">ùïè Abrir X</button>
          <button id="btnCopy" class="btn primary" type="button">üìã Copiar</button>
          <button id="btnResetTemplate" class="btn" type="button">‚Ü© Reset</button>
        </div>
      </div>

      <div class="panelBody">
        <div class="grid2">
          <label class="mini">
            LIVE_URL
            <input id="liveUrl" class="input" placeholder="https://twitch.com/globaleyetv" />
          </label>

          <label class="mini">
            HASHTAGS
            <input id="hashtags" class="input" placeholder="#ENVIVO #Breaking #Noticias" />
          </label>

          <label class="mini checkbox">
            <input id="optIncludeLive" type="checkbox" checked />
            Incluir LIVE_URL
          </label>

          <label class="mini checkbox">
            <input id="optIncludeSource" type="checkbox" checked />
            Incluir Fuente
          </label>
        </div>

        <div class="hr"></div>

        <label class="mini">
          HEADLINE
          <input id="headline" class="input" placeholder="Titular‚Ä¶" />
        </label>

        <label class="mini" style="margin-top:10px;">
          SOURCE_URL
          <input id="sourceUrl" class="input" placeholder="https://‚Ä¶" />
        </label>

        <div class="hr"></div>

        <label class="mini">
          TEMPLATE
          <textarea id="template" class="textarea" rows="8"></textarea>
        </label>

        <div class="hr"></div>

        <div class="row between">
          <div class="mini">X-count: <b id="charCount">0</b>/280</div>
          <div class="mini muted">Tip: ‚ÄúUsar‚Äù carga titular+link y marca como usado.</div>
        </div>

        <pre id="preview" class="preview"></pre>
        <div id="warn" class="warn hidden"></div>
      </div>
    </section>

    <!-- RIGHT -->
    <section class="panel right">
      <div class="panelHead">
        <h2>Noticias</h2>
        <div class="row wrap">
          <label class="mini">
            Delay:
            <input id="delayMin" class="input" type="number" min="0" max="120" step="1" value="10" style="width:90px;" />
          </label>

          <label class="mini checkbox">
            <input id="optOnlyReady" type="checkbox" />
            Solo LISTO
          </label>

          <label class="mini checkbox">
            <input id="optOnlySpanish" type="checkbox" checked />
            ES (auto)
          </label>

          <label class="mini">
            Orden:
            <select id="sortBy" class="select">
              <option value="recent" selected>Recientes</option>
              <option value="impact">Impacto</option>
              <option value="source">Fuente</option>
            </select>
          </label>

          <label class="mini">
            Cat:
            <select id="catFilter" class="select">
              <option value="all" selected>All</option>
              <option value="spain">Espa√±a</option>
              <option value="world">Mundo</option>
              <option value="war">Guerra</option>
              <option value="politics">Pol√≠tica</option>
              <option value="economy">Econom√≠a</option>
              <option value="tech">Tech</option>
              <option value="crime">Sucesos</option>
              <option value="health">Salud</option>
              <option value="sports">Deportes</option>
              <option value="ent">Entretenimiento</option>
            </select>
          </label>
        </div>

        <div class="row wrap">
          <label class="mini checkbox">
            <input id="optAutoRefresh" type="checkbox" checked />
            Auto-refresh
          </label>

          <label class="mini">
            cada
            <input id="refreshSec" class="input" type="number" min="15" max="600" step="5" value="30" style="width:90px;" />
            s
          </label>

          <label class="mini checkbox">
            <input id="optResolveLinks" type="checkbox" checked />
            Resolver links
          </label>

          <label class="mini checkbox">
            <input id="optShowOriginal" type="checkbox" checked />
            Ver original
          </label>

          <label class="mini checkbox">
            <input id="optHideUsed" type="checkbox" />
            Ocultar usados
          </label>

          <label class="mini" title="Cu√°ntos feeds se refrescan por ciclo (rendimiento). Manual/Force refresca todos.">
            Batch:
            <input id="batchFeeds" class="input" type="number" min="4" max="50" step="1" value="12" style="width:90px;" />
          </label>
        </div>
      </div>

      <div class="newsTop">
        <div class="mini muted">
          Consejo: con muchos feeds, sube Batch a 16‚Äì20 o sube el intervalo; el sistema rota por lotes para no colapsar.
        </div>
      </div>

      <div id="newsList" class="newsList"></div>
    </section>
  </main>

  <!-- MODAL FEEDS -->
  <div id="modal" class="modal hidden" aria-hidden="true">
    <div class="modalCard" role="dialog" aria-modal="true">
      <div class="modalHead">
        <h3>Feeds</h3>
        <button id="btnCloseModal" class="btn" type="button">Cerrar</button>
      </div>

      <div class="modalBody">
        <div class="grid2">
          <label class="mini">
            Nombre
            <input id="newFeedName" class="input" placeholder="Mi feed" />
          </label>
          <label class="mini">
            URL RSS/Atom/JSON
            <input id="newFeedUrl" class="input" placeholder="https://..." />
          </label>
        </div>

        <div class="row wrap" style="margin-top:10px;">
          <button id="btnAddFeed" class="btn primary" type="button">+ A√±adir</button>
          <button id="btnExportFeeds" class="btn" type="button">Exportar</button>
          <button id="btnImportFeeds" class="btn" type="button">Importar</button>
          <button id="btnRestoreDefaultFeeds" class="btn" type="button">Defaults</button>
        </div>

        <textarea id="feedsJson" class="textarea" rows="6" placeholder="Export/Import JSON aqu√≠‚Ä¶" style="margin-top:10px;"></textarea>

        <div class="hr"></div>
        <div id="feedList" class="feedList"></div>
      </div>

      <div class="modalFoot">
        <div class="mini muted">Activa/desactiva feeds y guarda. Los cambios se aplican al cerrar.</div>
        <button id="btnSaveFeeds" class="btn primary" type="button">Guardar</button>
      </div>
    </div>
  </div>

  <script src="./app.js"></script>
</body>
</html>
